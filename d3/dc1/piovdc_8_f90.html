<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAM6: cime/src/externals/pio1/pio/piovdc.F90 File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_ca1b5b72bbe1ef506436773ecfeecca9.html">cime</a></li><li class="navelem"><a class="el" href="../../dir_6505b8ec64466389ad06a595cd105ff7.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5a200682c7280f7118be86b38a685659.html">externals</a></li><li class="navelem"><a class="el" href="../../dir_592287d84a90e1981f56583d552df7ee.html">pio1</a></li><li class="navelem"><a class="el" href="../../dir_3e5d842deb29ec39ee3788ebb8be3596.html">pio</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">piovdc.F90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The piovdc library for writing Vapor Data Collection (VDC) 2 data files <a href="https://wiki.ucar.edu/display/dasg/PIOVDC">https://wiki.ucar.edu/display/dasg/PIOVDC</a> <br  />
  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:db/da3/namespacepiovdc"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html">piovdc</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:aa2eb763b6e953a8ddaa7e2f8d54d86ef"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#aa2eb763b6e953a8ddaa7e2f8d54d86ef">piovdc::adjust_bounds</a> (global_dims, start, count, rank)</td></tr>
<tr class="memdesc:aa2eb763b6e953a8ddaa7e2f8d54d86ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">subroutine checks start/count for out of bounds, adjusts if the start/count is too high, zeroes start if it is invalid POST-EFFECTS: <br  />
all start/counts are now legal, non-IO tasks have zeroed start counts  <br /></td></tr>
<tr class="separator:aa2eb763b6e953a8ddaa7e2f8d54d86ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5301197865e1feaececca74ed578eb7e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#a5301197865e1feaececca74ed578eb7e">piovdc::auto_get_start_count</a> (rank, nioprocs, block_dims, start, count, bsize, data_dims)</td></tr>
<tr class="memdesc:a5301197865e1feaececca74ed578eb7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">subroutine that, given a global grid, VDC blocksize, and max # of nioprocs, will automatically create an VDC optimized IO decomposition that uses the most possible IO tasks  <br /></td></tr>
<tr class="separator:a5301197865e1feaececca74ed578eb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631ce4aa8ec3b0a0f0d6a17647296828"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#a631ce4aa8ec3b0a0f0d6a17647296828">piovdc::init_vdc2</a> (rank, data_dims, vdc_bsize, iostart, iocount, ioprocs)</td></tr>
<tr class="memdesc:a631ce4aa8ec3b0a0f0d6a17647296828"><td class="mdescLeft">&#160;</td><td class="mdescRight">subroutine that prepares the global grid to be split by the auto_start_count routine  <br /></td></tr>
<tr class="separator:a631ce4aa8ec3b0a0f0d6a17647296828"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6dd47c90c3107c71fd9f3cd26c170517"><td class="memItemLeft" align="right" valign="top">integer(i4), <a class="el" href="../../d9/d4a/mpp__update__nest__domains_8h.html#a26822f45fa1167a47dacf14152ba0e3c">dimension</a>(3)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#a6dd47c90c3107c71fd9f3cd26c170517">piovdc::vdc_dims</a></td></tr>
<tr class="separator:a6dd47c90c3107c71fd9f3cd26c170517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fadaf804e3e0480cb1f3f35f5b57237"><td class="memItemLeft" align="right" valign="top">integer(i4), <a class="el" href="../../d9/d4a/mpp__update__nest__domains_8h.html#a26822f45fa1167a47dacf14152ba0e3c">dimension</a>(3)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#a1fadaf804e3e0480cb1f3f35f5b57237">piovdc::vdc_bsize</a></td></tr>
<tr class="separator:a1fadaf804e3e0480cb1f3f35f5b57237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c436cafcbe330aded48daade1ab3024"><td class="memItemLeft" align="right" valign="top">integer(i4)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#a6c436cafcbe330aded48daade1ab3024">piovdc::vdc_ts</a></td></tr>
<tr class="separator:a6c436cafcbe330aded48daade1ab3024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f7961524484605541a61af49010ee1"><td class="memItemLeft" align="right" valign="top">integer(kind=pio_offset), <a class="el" href="../../d9/d4a/mpp__update__nest__domains_8h.html#a26822f45fa1167a47dacf14152ba0e3c">dimension</a>(3)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#ab3f7961524484605541a61af49010ee1">piovdc::vdc_iostart</a></td></tr>
<tr class="separator:ab3f7961524484605541a61af49010ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68bee8c959c348230fa4b2e04ac44004"><td class="memItemLeft" align="right" valign="top">integer(kind=pio_offset), <a class="el" href="../../d9/d4a/mpp__update__nest__domains_8h.html#a26822f45fa1167a47dacf14152ba0e3c">dimension</a>(3)&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da3/namespacepiovdc.html#a68bee8c959c348230fa4b2e04ac44004">piovdc::vdc_iocount</a></td></tr>
<tr class="separator:a68bee8c959c348230fa4b2e04ac44004"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The piovdc library for writing Vapor Data Collection (VDC) 2 data files <a href="https://wiki.ucar.edu/display/dasg/PIOVDC">https://wiki.ucar.edu/display/dasg/PIOVDC</a> <br  />
 </p>
<dl class="section author"><dt>Author</dt><dd>Yannick Polius <a href="#" onclick="location.href='mai'+'lto:'+'ypo'+'li'+'us@'+'uc'+'ar.'+'ed'+'u'; return false;">ypoli<span class="obfuscator">.nosp@m.</span>us@u<span class="obfuscator">.nosp@m.</span>car.e<span class="obfuscator">.nosp@m.</span>du</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>$Revision$ </dd></dl>
<dl class="section date"><dt>Date</dt><dd>$LastChangedDate$</dd></dl>
<p>The piovdc library is used to write VDC2 data files in a parallel manner using PIO. After the prerequisite library functions are used, a call to pio_writedarray is made, writing the passed data to an on disk VDC2 collection.<br  />
 PRE-REQUISITES: <br  />
 VDF meta-file must be generated, using either rawtovdf or vdfcreate if advanced features (wavelet type, compression ratios, or boundary type) are needed VDF file requires VDC version to be 2, and requires the Waveletname, WaveletBoundaryMode, CompressionRations, and NumTransforms to be set.<br  />
 POST-EFFECTS: <br  />
 After a successful write, VDC2 data will be in a directory located in the same directory as the vdf file, using the vdf name, appended with _data (ex. ghost.vdf generates VDC2 data in the dir ghost_data in the vdf dir) If no compression is enabled, a single, uncompressed file will be generated using PIO instead of a VDC </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
