<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAM6: How to create a new CISM test</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">How to create a new CISM test </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This directory contains a new test template called <code><a class="el" href="../../d0/d87/run_test_8py.html">runTest.py</a></code> which should be used to create a new test in CISM. This template is based off of the <code>tests/higher-order/dome</code> test, and you should start by playing around with that test so that you understand how the options work, and how the tests are run. If you maintain the structure of this test template, your new test will work with the <code><a class="el" href="../../d1/d56/build__and__test_8py.html">tests/regression/build_and_test.py</a></code> structure (BATS).</p>
<h1><a class="anchor" id="autotoc_md103"></a>
Creating a new test</h1>
<p>Say we want to create a higher-order test for Antarctica, which we will call <code>antarctica</code> The first thing we do is make the Antarctica test directory, and then move into it:</p>
<div class="fragment"><div class="line">$ mkdir $CISM/tests/higher-order/antarctica</div>
<div class="line">$ cd $CISM/tests/higher-order/antarctica</div>
</div><!-- fragment --><p>Next, we copy the <code><a class="el" href="../../d0/d87/run_test_8py.html">runTest.py</a></code> python script template into your new test directory, the <code>*.config</code> files, and the <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> tools module <code>netCDF.py</code> from the <code>$CISM/tests/new</code> directory.</p>
<div class="fragment"><div class="line">$ cp $CISM/tests/new/runTest.py runAntarctica.py</div>
<div class="line">$ cp $CISM/tests/new/test.config antarctica.config</div>
<div class="line">$ cp $CISM/tests/new/test-forcing.config antarctica-forcing.config</div>
<div class="line">$ cp $CISM/test/new/netCDF.py ./</div>
</div><!-- fragment --><p>Next, we open up the <code>runAntarctica.py</code> script in our favorite editor and create our test. Most of the structure of the test has been created from the template. To finish the test, we find the <code>#FIXME:</code> statements in the <code>runAntarctica.py</code>, read the associated comment text, and create what we need for the test case.</p>
<p><em>Last updated: August 13, 2015 by Joseph H Kennedy at ORNL</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
