<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAM6: cime/src/externals/pio2/tests/general/test_memleak.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_ca1b5b72bbe1ef506436773ecfeecca9.html">cime</a></li><li class="navelem"><a class="el" href="../../dir_6505b8ec64466389ad06a595cd105ff7.html">src</a></li><li class="navelem"><a class="el" href="../../dir_5a200682c7280f7118be86b38a685659.html">externals</a></li><li class="navelem"><a class="el" href="../../dir_3a69a06cc0ea203afcff38df99a0564d.html">pio2</a></li><li class="navelem"><a class="el" href="../../dir_2a9e368ec89a396f545fe9e3228386e9.html">tests</a></li><li class="navelem"><a class="el" href="../../dir_c65bd8b8675cedb7ef8c48ecc1b931b8.html">general</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">test_memleak.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../dc/d60/pio_8h_source.html">pio.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_memleak.c:</div>
<div class="dyncontent">
<div class="center"><img src="https://drive.google.com/uc?id=1ldk-iS4hTY7sytRxSuY7H6kR0l-JJoBO" border="0" usemap="#acime_2src_2externals_2pio2_2tests_2general_2test__memleak_8c" alt=""/></div>
<map name="acime_2src_2externals_2pio2_2tests_2general_2test__memleak_8c" id="acime_2src_2externals_2pio2_2tests_2general_2test__memleak_8c">
<area shape="rect" title=" " alt="" coords="211,5,341,60"/>
<area shape="rect" href="../../dc/d60/pio_8h.html" title=" " alt="" coords="251,108,301,133"/>
<area shape="rect" title=" " alt="" coords="5,181,67,207"/>
<area shape="rect" title=" " alt="" coords="113,255,177,280"/>
<area shape="rect" title=" " alt="" coords="141,181,216,207"/>
<area shape="rect" title=" " alt="" coords="366,255,431,280"/>
<area shape="rect" href="../../d1/dd8/mpi_8h.html" title=" " alt="" coords="337,181,391,207"/>
<area shape="rect" href="../../d8/d8f/uthash_8h.html" title=" " alt="" coords="240,181,312,207"/>
<area shape="rect" title=" " alt="" coords="467,181,536,207"/>
<area shape="rect" title=" " alt="" coords="241,255,311,280"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae763c3ffeab20d06c1ab807cabb82394"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#ae763c3ffeab20d06c1ab807cabb82394">NUM_NETCDF_FLAVORS</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ae763c3ffeab20d06c1ab807cabb82394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1fd2d28c6a7d4a3f7027cc1b6466f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a2b1fd2d28c6a7d4a3f7027cc1b6466f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78076335bc3d03745246fc5ffcdd4e85"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a78076335bc3d03745246fc5ffcdd4e85">NUM_TIMESTEPS</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a78076335bc3d03745246fc5ffcdd4e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73de0b1772c59096554d6a846feff376"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a73de0b1772c59096554d6a846feff376">VAR_NAME</a>&#160;&#160;&#160;&quot;foo&quot;</td></tr>
<tr class="separator:a73de0b1772c59096554d6a846feff376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5ba18a0b68130c63410845f87fa708"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#aba5ba18a0b68130c63410845f87fa708">START_DATA_VAL</a>&#160;&#160;&#160;42</td></tr>
<tr class="separator:aba5ba18a0b68130c63410845f87fa708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c9fcdb8191a6e3d7e43d31e4c4448c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a59c9fcdb8191a6e3d7e43d31e4c4448c">MPIERR</a>(e)</td></tr>
<tr class="separator:a59c9fcdb8191a6e3d7e43d31e4c4448c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588357de2986fdf4c1380190f7ae9f37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a588357de2986fdf4c1380190f7ae9f37">ERR</a>(e)</td></tr>
<tr class="separator:a588357de2986fdf4c1380190f7ae9f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e99c5fae11897205bc88ec55bbc126"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a87e99c5fae11897205bc88ec55bbc126">ERR_AWFUL</a>&#160;&#160;&#160;1111</td></tr>
<tr class="separator:a87e99c5fae11897205bc88ec55bbc126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ab9c24d600c2a3b13b5e96029500fca22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#ab9c24d600c2a3b13b5e96029500fca22">X_DIM_LEN</a>&#160;&#160;&#160;400</td></tr>
<tr class="separator:ab9c24d600c2a3b13b5e96029500fca22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0499853168ac31cd7dea8099d7dcfd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#afc0499853168ac31cd7dea8099d7dcfd">Y_DIM_LEN</a>&#160;&#160;&#160;400</td></tr>
<tr class="separator:afc0499853168ac31cd7dea8099d7dcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab936652dd13083dc9181ec7886ab04b7"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#ab936652dd13083dc9181ec7886ab04b7">err_buffer</a> [<a class="el" href="../../d1/dd8/mpi_8h.html#aecbc3eab345ce4eceaadf5111f4847f8">MPI_MAX_ERROR_STRING</a>]</td></tr>
<tr class="separator:ab936652dd13083dc9181ec7886ab04b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb75303058f3be9b462de7ba3f6b03a7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#aeb75303058f3be9b462de7ba3f6b03a7">resultlen</a></td></tr>
<tr class="separator:aeb75303058f3be9b462de7ba3f6b03a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff6a13fe5da4f73ddbd691b94aaec9a"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a2ff6a13fe5da4f73ddbd691b94aaec9a">dim_name</a> [<a class="el" href="../../de/d4b/example1_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>][<a class="el" href="../../dc/d60/pio_8h.html#aa20fd333b6f32f0d29f9fca34e92760e">PIO_MAX_NAME</a>+1] = {&quot;timestep&quot;, &quot;x&quot;, &quot;y&quot;}</td></tr>
<tr class="separator:a2ff6a13fe5da4f73ddbd691b94aaec9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdd029eb53af7edd1f798d8d2425b2b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a0cdd029eb53af7edd1f798d8d2425b2b">dim_len</a> [<a class="el" href="../../de/d4b/example1_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>] = {NC_UNLIMITED, <a class="el" href="../../d3/d36/example2_8c.html#ab9c24d600c2a3b13b5e96029500fca22">X_DIM_LEN</a>, <a class="el" href="../../d3/d36/example2_8c.html#afc0499853168ac31cd7dea8099d7dcfd">Y_DIM_LEN</a>}</td></tr>
<tr class="separator:a0cdd029eb53af7edd1f798d8d2425b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efe221cbde92ab8e080d97a6551f1f6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc1/test__memleak_8c.html#a6efe221cbde92ab8e080d97a6551f1f6">chunksize</a> [<a class="el" href="../../de/d4b/example1_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>] = {2, <a class="el" href="../../d3/d36/example2_8c.html#ab9c24d600c2a3b13b5e96029500fca22">X_DIM_LEN</a>/2, <a class="el" href="../../d3/d36/example2_8c.html#afc0499853168ac31cd7dea8099d7dcfd">Y_DIM_LEN</a>/2}</td></tr>
<tr class="separator:a6efe221cbde92ab8e080d97a6551f1f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Tests for handling of fillval.</p>
<p>This test was added to track down memory leaks in pio_decomp_fillval. Since that code is large, complex, and in fortran, I have reproduced the error-inducing calls in a simple C test. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a588357de2986fdf4c1380190f7ae9f37" name="a588357de2986fdf4c1380190f7ae9f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588357de2986fdf4c1380190f7ae9f37">&#9670;&#160;</a></span>ERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                             \</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Error %d in %s, line %d\n&quot;</span>, e, __FILE__, __LINE__); \</div>
<div class="line">    MPI_Finalize();                         \</div>
<div class="line">    <span class="keywordflow">return</span> e;                               \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Handle non-MPI errors by finalizing the MPI library and exiting with an exit code. </p>

</div>
</div>
<a id="a87e99c5fae11897205bc88ec55bbc126" name="a87e99c5fae11897205bc88ec55bbc126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87e99c5fae11897205bc88ec55bbc126">&#9670;&#160;</a></span>ERR_AWFUL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERR_AWFUL&#160;&#160;&#160;1111</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error code for when things go wrong. </p>

</div>
</div>
<a id="a59c9fcdb8191a6e3d7e43d31e4c4448c" name="a59c9fcdb8191a6e3d7e43d31e4c4448c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c9fcdb8191a6e3d7e43d31e4c4448c">&#9670;&#160;</a></span>MPIERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPIERR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                  \</div>
<div class="line">    MPI_Error_string(e, <a class="code hl_variable" href="../../d5/dc1/test__memleak_8c.html#ab936652dd13083dc9181ec7886ab04b7">err_buffer</a>, &amp;<a class="code hl_variable" href="../../d5/dc1/test__memleak_8c.html#aeb75303058f3be9b462de7ba3f6b03a7">resultlen</a>);                    \</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;MPI error, line %d, file %s: %s\n&quot;</span>, __LINE__, __FILE__, <a class="code hl_variable" href="../../d5/dc1/test__memleak_8c.html#ab936652dd13083dc9181ec7886ab04b7">err_buffer</a>); \</div>
<div class="line">    MPI_Finalize();                                                 \</div>
<div class="line">    <span class="keywordflow">return</span> 2;                                                       \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="atest__memleak_8c_html_ab936652dd13083dc9181ec7886ab04b7"><div class="ttname"><a href="../../d5/dc1/test__memleak_8c.html#ab936652dd13083dc9181ec7886ab04b7">err_buffer</a></div><div class="ttdeci">char err_buffer[MPI_MAX_ERROR_STRING]</div><div class="ttdef"><b>Definition:</b> test_memleak.c:62</div></div>
<div class="ttc" id="atest__memleak_8c_html_aeb75303058f3be9b462de7ba3f6b03a7"><div class="ttname"><a href="../../d5/dc1/test__memleak_8c.html#aeb75303058f3be9b462de7ba3f6b03a7">resultlen</a></div><div class="ttdeci">int resultlen</div><div class="ttdef"><b>Definition:</b> test_memleak.c:66</div></div>
</div><!-- fragment --><p>Handle MPI errors. This should only be used with MPI library function calls. </p>

</div>
</div>
<a id="a2b1fd2d28c6a7d4a3f7027cc1b6466f3" name="a2b1fd2d28c6a7d4a3f7027cc1b6466f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">&#9670;&#160;</a></span>NDIM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NDIM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of dimensions in the example data. In this example, we are using three-dimensional data. </p>

</div>
</div>
<a id="ae763c3ffeab20d06c1ab807cabb82394" name="ae763c3ffeab20d06c1ab807cabb82394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae763c3ffeab20d06c1ab807cabb82394">&#9670;&#160;</a></span>NUM_NETCDF_FLAVORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_NETCDF_FLAVORS&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of possible output <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> output flavors available to the ParallelIO library. </p>

</div>
</div>
<a id="a78076335bc3d03745246fc5ffcdd4e85" name="a78076335bc3d03745246fc5ffcdd4e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78076335bc3d03745246fc5ffcdd4e85">&#9670;&#160;</a></span>NUM_TIMESTEPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NUM_TIMESTEPS&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of timesteps of data to write. </p>

</div>
</div>
<a id="aba5ba18a0b68130c63410845f87fa708" name="aba5ba18a0b68130c63410845f87fa708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5ba18a0b68130c63410845f87fa708">&#9670;&#160;</a></span>START_DATA_VAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_DATA_VAL&#160;&#160;&#160;42</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The meaning of life, the universe, and everything. </p>

</div>
</div>
<a id="a73de0b1772c59096554d6a846feff376" name="a73de0b1772c59096554d6a846feff376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73de0b1772c59096554d6a846feff376">&#9670;&#160;</a></span>VAR_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VAR_NAME&#160;&#160;&#160;&quot;foo&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The name of the variable in the <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> output file. </p>

</div>
</div>
<a id="ab9c24d600c2a3b13b5e96029500fca22" name="ab9c24d600c2a3b13b5e96029500fca22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c24d600c2a3b13b5e96029500fca22">&#9670;&#160;</a></span>X_DIM_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define X_DIM_LEN&#160;&#160;&#160;400</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The length of our sample data along each dimension. There will be a total of 16 integers in each timestep of our data, and responsibilty for writing and reading them will be spread between all the processors used to run this example. </p>

</div>
</div>
<a id="afc0499853168ac31cd7dea8099d7dcfd" name="afc0499853168ac31cd7dea8099d7dcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0499853168ac31cd7dea8099d7dcfd">&#9670;&#160;</a></span>Y_DIM_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Y_DIM_LEN&#160;&#160;&#160;400</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627" name="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Run Tests for NetCDF-4 Functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>argument count </td></tr>
    <tr><td class="paramname">argv</td><td>array of arguments </td></tr>
  </table>
  </dd>
</dl>
<p>Zero-based rank of processor.</p>
<p>Number of processors involved in current execution.</p>
<p>Different output flavors. The example file is written (and then read) four times. The first two flavors, parallel-netcdf, and <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> serial, both produce a <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> classic format file (but with different libraries). The last two produce netCDF4/HDF5 format files, written with and without using netCDF-4 parallel I/O.</p>
<p>Names for the output files. Two of them (pnetcdf and classic) will be in classic <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> format, the others (serial4 and parallel4) will be in netCDF-4/HDF5 format. All four can be read by the <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> library, and all will contain the same contents.</p>
<p>Number of processors that will do IO. In this example we will do IO from all processors.</p>
<p>Stride in the mpi rank between io tasks. Always 1 in this example.</p>
<p>Zero based rank of first processor to be used for I/O.</p>
<p>Specifies the flavor of <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> output format.</p>
<p>The dimension IDs.</p>
<p>Array index per processing unit. This is the number of elements of the data array that will be handled by each processor. In this example there are 16 data elements. If the example is run on 4 processors, then arrIdxPerPe will be 4.</p>
<p>The ID for the parallel I/O system. It is set by <a class="el" href="../../d8/d1a/group___p_i_o__init__c.html#ga479a1d9fe2edfc7ca321a1b482fe0211">PIOc_Init_Intracomm()</a>. It references an internal structure containing the general IO subsystem data and MPI structure. It is passed to <a class="el" href="../../de/d2d/group___p_i_o__finalize__c.html#ga04e150e10a29f037979dc2eaa872bdb5">PIOc_finalize()</a> to free associated resources, after all I/O, but before MPI_Finalize is called.</p>
<p>The ncid of the <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> file created in this example.</p>
<p>The ID of the <a class="el" href="../../da/de2/namespacenet_c_d_f.html">netCDF</a> varable in the example file.</p>
<p>The I/O description ID as passed back by <a class="el" href="../../d0/db9/group___p_i_o__initdecomp__c.html#ga56c119d47d1082df044968f80acbe265">PIOc_InitDecomp()</a> and freed in <a class="el" href="../../df/d0c/group___p_i_o__freedecomp__c.html#ga6416ad3c81a99f31f8f55e857acd697e">PIOc_freedecomp()</a>.</p>
<p>A buffer for sample data. The size of this array will vary depending on how many processors are involved in the execution of the example code. It's length will be the same as elements_per_pe.</p>
<p>A buffer for reading data back from the file. The size of this array will vary depending on how many processors are involved in the execution of the example code. It's length will be the same as elements_per_pe.</p>
<p>A 1-D array which holds the decomposition mapping for this example. The size of this array will vary depending on how many processors are involved in the execution of the example code. It's length will be the same as elements_per_pe.</p>
<p>Return code.</p>
<p>Check that the inq_var_chunking function works.</p>
<p>For serial netCDF-4, only processor rank 0 gets the answers.</p>
<p>For serial netCDF-4, only processor rank 0 gets the answers. Also deflate is turned on by default</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="https://drive.google.com/uc?id=1EMKbSICifXGGfQyxou-FdJLnkPfiN1Qx" border="0" usemap="#ad5/dc1/test__memleak_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" alt=""/></div>
<map name="ad5/dc1/test__memleak_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph" id="ad5/dc1/test__memleak_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph">
<area shape="rect" title=" " alt="" coords="5,1043,56,1069"/>
<area shape="rect" href="../../dd/db3/cime_2src_2externals_2pio1_2timing_2gptl_8c.html#adf1fb58dfd34160b85683b9c86f6f3d4" title=" " alt="" coords="332,65,429,90"/>
<area shape="rect" href="../../de/dac/mpp__write__unlimited__axis_8h.html#a16856baadbefbd707efad167dfff02a6" title=" " alt="" coords="745,891,801,917"/>
<area shape="rect" href="../../dd/db3/cime_2src_2externals_2pio1_2timing_2gptl_8c.html#adb9c236639fd7bde0f9f8b820610ea05" title=" " alt="" coords="121,214,224,239"/>
<area shape="rect" href="../../d9/df4/comm_8c.html#a3199e776e016cbaaed648c2e8c32dd04" title=" " alt="" coords="545,2486,669,2511"/>
<area shape="rect" href="../../d9/df4/comm_8c.html#af02c1da1e2be331e53ac3e5f8ccfedb6" title=" " alt="" coords="546,2535,669,2561"/>
<area shape="rect" href="../../db/dcc/error_8c.html#ac05f489adb77b6c441c96f10c2389bdf" title=" " alt="" coords="104,815,241,841"/>
<area shape="rect" href="../../db/d50/mpi_8c.html#a91a0cf5613b31a183a5453446191f1df" title=" " alt="" coords="123,151,222,177"/>
<area shape="rect" href="../../d1/dd8/mpi_8h.html#a6db3bc6ba7e511b3ec432b1a96ec2a6d" title=" " alt="" coords="137,917,208,942"/>
<area shape="rect" href="../../dc/df0/group___p_i_o__close__file__c.html#gaee37be8734afcb8ee94088dc287c341b" title=" " alt="" coords="119,1170,226,1195"/>
<area shape="rect" href="../../d1/dac/group___p_i_o__create__file__c.html#gaed31e065901c964d4224b3db61a30d5e" title=" " alt="" coords="117,1474,229,1499"/>
<area shape="rect" href="../../dd/d03/group___p_i_o__def__dim__c.html#ga19ec254c22fa1822aa86cf69a074c1af" title=" " alt="" coords="328,717,433,742"/>
<area shape="rect" href="../../d9/db9/group___p_i_o__def__var__c.html#ga70d1d5b2f5e828fed653ca87aacef16e" title=" " alt="" coords="121,667,224,693"/>
<area shape="rect" href="../../d9/db9/group___p_i_o__def__var__c.html#ga1accdef205cd597d5c598bd6733db1ce" title=" " alt="" coords="300,766,461,791"/>
<area shape="rect" href="../../db/daf/group___p_i_o__enddef__c.html#ga9967ed940ad4b735965a4abe35101709" title=" " alt="" coords="123,1270,222,1295"/>
<area shape="rect" href="../../de/d2d/group___p_i_o__finalize__c.html#ga04e150e10a29f037979dc2eaa872bdb5" title=" " alt="" coords="123,1727,223,1753"/>
<area shape="rect" href="../../df/d0c/group___p_i_o__freedecomp__c.html#ga6416ad3c81a99f31f8f55e857acd697e" title=" " alt="" coords="109,2006,236,2031"/>
<area shape="rect" href="../../d8/d1a/group___p_i_o__init__c.html#ga479a1d9fe2edfc7ca321a1b482fe0211" title=" " alt="" coords="307,2383,454,2409"/>
<area shape="rect" href="../../d0/db9/group___p_i_o__initdecomp__c.html#ga56c119d47d1082df044968f80acbe265" title=" " alt="" coords="317,1677,444,1702"/>
<area shape="rect" href="../../d1/dc9/group___p_i_o__inq__var__c.html#ga2b739539ae6466d402f861d179d506fe" title=" " alt="" coords="301,867,461,893"/>
<area shape="rect" href="../../d1/dc9/group___p_i_o__inq__var__c.html#gac79879dc9e1afc418c55005b760070b1" title=" " alt="" coords="307,1018,454,1043"/>
<area shape="rect" href="../../d3/d7f/cime_2src_2externals_2pio1_2timing_2_g_p_t_lutil_8c.html#ae18572654e4b1f6036ce91efb54cd2bd" title=" " alt="" coords="566,133,649,158"/>
<area shape="rect" href="../../d0/d6c/trilinos_nox_solver_8cpp.html#aa0ff8e48c0deb82a16917463da0e591f" title=" " alt="" coords="852,891,891,917"/>
<area shape="rect" href="../../d3/d7f/cime_2src_2externals_2pio1_2timing_2_g_p_t_lutil_8c.html#a46526a08365862bffae0f330829c8bb0" title=" " alt="" coords="330,163,431,189"/>
<area shape="rect" href="../../d6/d08/handles_8c.html#ada43773ea88ee347831b6804bf03e8df" title=" " alt="" coords="308,114,453,139"/>
<area shape="rect" href="../../d4/d3c/pioc__support_8c.html#a23de97973c9b5221520ef6335b9040d4" title=" " alt="" coords="565,1474,650,1499"/>
<area shape="rect" href="../../d4/d3c/pioc__support_8c.html#a9ca7f07374a56d53781de6dc149ca886" title=" " alt="" coords="743,1575,804,1601"/>
<area shape="rect" href="../../d1/dcd/collective_8c.html#a3864566826d5e4083b417a15b395921f" title=" " alt="" coords="564,1271,651,1297"/>
<area shape="rect" href="../../dd/ded/send_8c.html#a2aa37c594f642395c7c02bb85eb86aaa" title=" " alt="" coords="566,1119,649,1145"/>
<area shape="rect" href="../../d7/dbd/pio__lists_8c.html#aa8809cc768fc8c8b65e2c4403f8d10e3" title=" " alt="" coords="526,1930,689,1955"/>
<area shape="rect" href="../../d7/dbd/pio__lists_8c.html#a623442aa3edfeeb178359f1caed3c8e7" title=" " alt="" coords="563,765,651,790"/>
<area shape="rect" href="../../dd/d7c/group___p_i_o__sync__file__c.html#gaf0786a65a17388275114ddc4749b7e99" title=" " alt="" coords="337,1170,424,1195"/>
<area shape="rect" href="../../d7/dbd/pio__lists_8c.html#a617c85b628419f008ca8fc456b78f702" title=" " alt="" coords="520,1778,695,1803"/>
<area shape="rect" href="../../d4/d3c/pioc__support_8c.html#a091e472d70db7a35a4b7d58ea1ddd0df" title=" " alt="" coords="314,1575,447,1601"/>
<area shape="rect" href="../../de/de7/group___p_i_o__set__fill__c.html#gab7b83b0cfaaf0d768ba357361edff9b6" title=" " alt="" coords="332,1423,429,1449"/>
<area shape="rect" href="../../d4/df5/mozpp_8subs_8f.html#a033c0083b8f6e0bac3a98ce27fecf1b1" title=" " alt="" coords="580,461,635,486"/>
<area shape="rect" href="../../d7/dbd/pio__lists_8c.html#acf414c27031e8abc409423a42123b3de" title=" " alt="" coords="329,417,432,442"/>
<area shape="rect" href="../../d4/d3c/pioc__support_8c.html#ae827623f5a38c2614a01fdb897f69a4c" title=" " alt="" coords="329,466,432,491"/>
<area shape="rect" href="../../de/ddc/type_8c.html#ae29f0835bc34a02c4d6b3aace4916fbe" title=" " alt="" coords="325,515,437,541"/>
<area shape="rect" href="../../d3/da8/group___p_i_o__typelen__c.html#ga3da640cefc1d77011f125d60e6de66c9" title=" " alt="" coords="327,667,435,693"/>
<area shape="rect" href="../../d9/dc8/pio__nc_8c.html#ae677132a4670352eee8b77106e300bca" title=" " alt="" coords="309,917,452,942"/>
<area shape="rect" href="../../d1/dc9/group___p_i_o__inq__var__c.html#gacc5ad429734adf6ea43e6ee1b71080e2" title=" " alt="" coords="539,663,675,689"/>
<area shape="rect" href="../../d4/d3c/pioc__support_8c.html#abf7668416ef848e0e94934a54ba7ee7f" title=" " alt="" coords="321,1322,441,1347"/>
<area shape="rect" href="../../de/d2d/group___p_i_o__finalize__c.html#gad23b3466a30f238800343e9101c0848a" title=" " alt="" coords="310,1778,451,1803"/>
<area shape="rect" href="../../d9/df4/comm_8c.html#aa59c23923726e15548c45f409661aacc" title=" " alt="" coords="547,1979,668,2005"/>
<area shape="rect" href="../../d4/d3c/pioc__support_8c.html#a7b1092f6a8ae5d9037a9d42642f3a191" title=" " alt="" coords="325,2285,436,2310"/>
<area shape="rect" href="../../de/ddc/type_8c.html#a24f419c705a50ea3fb3ceb9a390de312" title=" " alt="" coords="325,2334,436,2359"/>
<area shape="rect" href="../../d7/dbd/pio__lists_8c.html#a7c0b3519929dea5d6a7833d21ab9771d" title=" " alt="" coords="289,2133,472,2158"/>
<area shape="rect" href="../../d7/dbd/pio__lists_8c.html#a02fd81f4b8f34abb7970edf2c5777a33" title=" " alt="" coords="528,2081,687,2106"/>
<area shape="rect" href="../../d1/df9/pio__darray__int_8c.html#adb265a4b03b59844fa784511a022911f" title=" " alt="" coords="539,2334,675,2359"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6efe221cbde92ab8e080d97a6551f1f6" name="a6efe221cbde92ab8e080d97a6551f1f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efe221cbde92ab8e080d97a6551f1f6">&#9670;&#160;</a></span>chunksize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t chunksize[<a class="el" href="../../de/d4b/example1_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>] = {2, <a class="el" href="../../d3/d36/example2_8c.html#ab9c24d600c2a3b13b5e96029500fca22">X_DIM_LEN</a>/2, <a class="el" href="../../d3/d36/example2_8c.html#afc0499853168ac31cd7dea8099d7dcfd">Y_DIM_LEN</a>/2}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of chunksizes to use in netCDF-4 files. </p>

</div>
</div>
<a id="a0cdd029eb53af7edd1f798d8d2425b2b" name="a0cdd029eb53af7edd1f798d8d2425b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cdd029eb53af7edd1f798d8d2425b2b">&#9670;&#160;</a></span>dim_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dim_len[<a class="el" href="../../de/d4b/example1_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>] = {NC_UNLIMITED, <a class="el" href="../../d3/d36/example2_8c.html#ab9c24d600c2a3b13b5e96029500fca22">X_DIM_LEN</a>, <a class="el" href="../../d3/d36/example2_8c.html#afc0499853168ac31cd7dea8099d7dcfd">Y_DIM_LEN</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Length of the dimensions in the sample data. </p>

</div>
</div>
<a id="a2ff6a13fe5da4f73ddbd691b94aaec9a" name="a2ff6a13fe5da4f73ddbd691b94aaec9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff6a13fe5da4f73ddbd691b94aaec9a">&#9670;&#160;</a></span>dim_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char dim_name[<a class="el" href="../../de/d4b/example1_8c.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>][<a class="el" href="../../dc/d60/pio_8h.html#aa20fd333b6f32f0d29f9fca34e92760e">PIO_MAX_NAME</a>+1] = {&quot;timestep&quot;, &quot;x&quot;, &quot;y&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The dimension names. </p>

</div>
</div>
<a id="ab936652dd13083dc9181ec7886ab04b7" name="ab936652dd13083dc9181ec7886ab04b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab936652dd13083dc9181ec7886ab04b7">&#9670;&#160;</a></span>err_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char err_buffer[<a class="el" href="../../d1/dd8/mpi_8h.html#aecbc3eab345ce4eceaadf5111f4847f8">MPI_MAX_ERROR_STRING</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global err buffer for MPI. When there is an MPI error, this buffer is used to store the error message that is associated with the MPI error. </p>

</div>
</div>
<a id="aeb75303058f3be9b462de7ba3f6b03a7" name="aeb75303058f3be9b462de7ba3f6b03a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb75303058f3be9b462de7ba3f6b03a7">&#9670;&#160;</a></span>resultlen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int resultlen</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the length of the most recent MPI error message, stored int the global error string. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
